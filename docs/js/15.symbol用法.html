<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Symbol用法 | chrisworkalx的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/superhuman.jpg">
    <meta name="description" content="用心记录每一天的生活">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.afb352e3.js" as="script"><link rel="preload" href="/blog/assets/js/2.39afa3e7.js" as="script"><link rel="preload" href="/blog/assets/js/31.edec5f27.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.e02ad85a.js"><link rel="prefetch" href="/blog/assets/js/11.be9f096f.js"><link rel="prefetch" href="/blog/assets/js/12.b65be1ed.js"><link rel="prefetch" href="/blog/assets/js/13.99a2a2d2.js"><link rel="prefetch" href="/blog/assets/js/14.d6e62dde.js"><link rel="prefetch" href="/blog/assets/js/15.fe9cabee.js"><link rel="prefetch" href="/blog/assets/js/16.b96391ec.js"><link rel="prefetch" href="/blog/assets/js/17.5d8f3fd5.js"><link rel="prefetch" href="/blog/assets/js/18.27ff6b0a.js"><link rel="prefetch" href="/blog/assets/js/19.b42367b7.js"><link rel="prefetch" href="/blog/assets/js/20.4f9449d9.js"><link rel="prefetch" href="/blog/assets/js/21.6574be99.js"><link rel="prefetch" href="/blog/assets/js/22.1f3e897f.js"><link rel="prefetch" href="/blog/assets/js/23.bcadab31.js"><link rel="prefetch" href="/blog/assets/js/24.d2dbee5c.js"><link rel="prefetch" href="/blog/assets/js/25.b537eca8.js"><link rel="prefetch" href="/blog/assets/js/26.b0f22847.js"><link rel="prefetch" href="/blog/assets/js/27.ee19c247.js"><link rel="prefetch" href="/blog/assets/js/28.d9064e23.js"><link rel="prefetch" href="/blog/assets/js/29.16a09a1c.js"><link rel="prefetch" href="/blog/assets/js/3.c04ad782.js"><link rel="prefetch" href="/blog/assets/js/30.642957fe.js"><link rel="prefetch" href="/blog/assets/js/32.5dc71f2e.js"><link rel="prefetch" href="/blog/assets/js/33.3a0a3203.js"><link rel="prefetch" href="/blog/assets/js/34.b721a714.js"><link rel="prefetch" href="/blog/assets/js/35.8a151cc7.js"><link rel="prefetch" href="/blog/assets/js/36.eaaa1e6e.js"><link rel="prefetch" href="/blog/assets/js/37.48e0c218.js"><link rel="prefetch" href="/blog/assets/js/38.b4589705.js"><link rel="prefetch" href="/blog/assets/js/39.9e62c700.js"><link rel="prefetch" href="/blog/assets/js/4.45298fba.js"><link rel="prefetch" href="/blog/assets/js/40.ff1ef1d9.js"><link rel="prefetch" href="/blog/assets/js/41.1ed45ba2.js"><link rel="prefetch" href="/blog/assets/js/42.32709696.js"><link rel="prefetch" href="/blog/assets/js/43.6ae0148a.js"><link rel="prefetch" href="/blog/assets/js/44.1553ae48.js"><link rel="prefetch" href="/blog/assets/js/45.ac29d000.js"><link rel="prefetch" href="/blog/assets/js/46.40e5da4e.js"><link rel="prefetch" href="/blog/assets/js/47.01d7de72.js"><link rel="prefetch" href="/blog/assets/js/48.de6cb913.js"><link rel="prefetch" href="/blog/assets/js/49.fc55672b.js"><link rel="prefetch" href="/blog/assets/js/5.3b1157a4.js"><link rel="prefetch" href="/blog/assets/js/50.553a7f0a.js"><link rel="prefetch" href="/blog/assets/js/51.788ebc8d.js"><link rel="prefetch" href="/blog/assets/js/52.f8c7f7ec.js"><link rel="prefetch" href="/blog/assets/js/53.3a15c257.js"><link rel="prefetch" href="/blog/assets/js/54.84551948.js"><link rel="prefetch" href="/blog/assets/js/55.de5b08c2.js"><link rel="prefetch" href="/blog/assets/js/56.59cbe88f.js"><link rel="prefetch" href="/blog/assets/js/57.1f1dec10.js"><link rel="prefetch" href="/blog/assets/js/58.36ae906a.js"><link rel="prefetch" href="/blog/assets/js/59.23e35035.js"><link rel="prefetch" href="/blog/assets/js/6.27c9ceaa.js"><link rel="prefetch" href="/blog/assets/js/60.efe9c261.js"><link rel="prefetch" href="/blog/assets/js/61.9d59abe9.js"><link rel="prefetch" href="/blog/assets/js/62.d6e480ef.js"><link rel="prefetch" href="/blog/assets/js/63.d2d6b15e.js"><link rel="prefetch" href="/blog/assets/js/64.074ff9c3.js"><link rel="prefetch" href="/blog/assets/js/65.083b0e36.js"><link rel="prefetch" href="/blog/assets/js/66.61d26721.js"><link rel="prefetch" href="/blog/assets/js/67.be4ab54c.js"><link rel="prefetch" href="/blog/assets/js/68.526fafef.js"><link rel="prefetch" href="/blog/assets/js/69.e034b5a7.js"><link rel="prefetch" href="/blog/assets/js/7.caec1bcd.js"><link rel="prefetch" href="/blog/assets/js/70.69b70ef8.js"><link rel="prefetch" href="/blog/assets/js/71.369f8f78.js"><link rel="prefetch" href="/blog/assets/js/72.3576f45c.js"><link rel="prefetch" href="/blog/assets/js/73.e385375c.js"><link rel="prefetch" href="/blog/assets/js/74.a0b04222.js"><link rel="prefetch" href="/blog/assets/js/75.bca5a940.js"><link rel="prefetch" href="/blog/assets/js/76.915b8c7a.js"><link rel="prefetch" href="/blog/assets/js/77.f73d9e86.js"><link rel="prefetch" href="/blog/assets/js/78.996714e7.js"><link rel="prefetch" href="/blog/assets/js/79.352b0b29.js"><link rel="prefetch" href="/blog/assets/js/8.bd39721e.js"><link rel="prefetch" href="/blog/assets/js/80.0152be80.js"><link rel="prefetch" href="/blog/assets/js/81.c080f69a.js"><link rel="prefetch" href="/blog/assets/js/82.e2e42bf3.js"><link rel="prefetch" href="/blog/assets/js/83.45990e98.js"><link rel="prefetch" href="/blog/assets/js/84.abb52e2f.js"><link rel="prefetch" href="/blog/assets/js/85.c126b658.js"><link rel="prefetch" href="/blog/assets/js/9.613cb7e7.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">chrisworkalx的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vue2/1.介绍.html" class="nav-link">
  vue2
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vue3/1.介绍.html" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vuex/1.介绍.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vueRouter/1.介绍.html" class="nav-link">
  vueRouter
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/repos/1.介绍.html" class="nav-link">
  Repos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react_class_before_16.3/1.介绍.html" class="nav-link">
  react_16.3
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react_hooks/1.介绍.html" class="nav-link">
  react_hooks
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/redux/1.介绍.html" class="nav-link">
  redux
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react-router/1.介绍.html" class="nav-link">
  react-router
</a></li></ul></div></div><div class="nav-item"><a href="/blog/js/1.介绍.html" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/blog/html/1.介绍.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/blog/css/1.介绍.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/blog/web/1.介绍.html" class="nav-link">
  浏览器
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vue2/1.介绍.html" class="nav-link">
  vue2
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vue3/1.介绍.html" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vuex/1.介绍.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/vueRouter/1.介绍.html" class="nav-link">
  vueRouter
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueFolder/repos/1.介绍.html" class="nav-link">
  Repos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react_class_before_16.3/1.介绍.html" class="nav-link">
  react_16.3
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react_hooks/1.介绍.html" class="nav-link">
  react_hooks
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/redux/1.介绍.html" class="nav-link">
  redux
</a></li><li class="dropdown-item"><!----> <a href="/blog/reactFolder/react-router/1.介绍.html" class="nav-link">
  react-router
</a></li></ul></div></div><div class="nav-item"><a href="/blog/js/1.介绍.html" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/blog/html/1.介绍.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/blog/css/1.介绍.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/blog/web/1.介绍.html" class="nav-link">
  浏览器
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/js/1.介绍.html" class="sidebar-link">介绍</a></li><li><a href="/blog/js/10.设计模式.html" class="sidebar-link">设计模式</a></li><li><a href="/blog/js/11.扁平树形数据互转.html" class="sidebar-link">扁平化与树形结构互转</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/11.扁平树形数据互转.html#树形数据-扁平化数据" class="sidebar-link">树形数据-&gt;扁平化数据</a></li><li class="sidebar-sub-header"><a href="/blog/js/11.扁平树形数据互转.html#扁平化数组转tree" class="sidebar-link">扁平化数组转tree</a></li></ul></li><li><a href="/blog/js/12.排序.html" class="sidebar-link">排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#冒泡排序-bubble-sort" class="sidebar-link">冒泡排序(Bubble Sort)</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#选择排序-selection-sort" class="sidebar-link">选择排序(Selection Sort)</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#插入排序-insertion-sort" class="sidebar-link">插入排序（Insertion Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#快速排序-quick-sort" class="sidebar-link">快速排序（Quick Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#希尔排序" class="sidebar-link">希尔排序</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#对象数组排序" class="sidebar-link">对象数组排序</a></li><li class="sidebar-sub-header"><a href="/blog/js/12.排序.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/blog/js/13.大文件上传.html" class="sidebar-link">大文件上传</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/13.大文件上传.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/js/13.大文件上传.html#常规的文件上传" class="sidebar-link">常规的文件上传</a></li><li class="sidebar-sub-header"><a href="/blog/js/13.大文件上传.html#大文件断点续传" class="sidebar-link">大文件断点续传</a></li></ul></li><li><a href="/blog/js/14.手写Map.html" class="sidebar-link">mini Map</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/14.手写Map.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/js/14.手写Map.html#普通对象和map创建对象遍历读取值时间对比" class="sidebar-link">普通对象和Map创建对象遍历读取值时间对比</a></li><li class="sidebar-sub-header"><a href="/blog/js/14.手写Map.html#实现一个mini-map" class="sidebar-link">实现一个mini-Map</a></li></ul></li><li><a href="/blog/js/15.symbol用法.html" class="active sidebar-link">Symbol用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#symbol的由来" class="sidebar-link">symbol的由来</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#symbol的特点" class="sidebar-link">symbol的特点</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#symbol的应用场景" class="sidebar-link">symbol的应用场景</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#实现symbol" class="sidebar-link">实现symbol</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/blog/js/15.symbol用法.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/blog/js/16.柯里化.html" class="sidebar-link">柯里化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/16.柯里化.html#_1-简介" class="sidebar-link">1. 简介</a></li><li class="sidebar-sub-header"><a href="/blog/js/16.柯里化.html#基本实现" class="sidebar-link">基本实现</a></li><li class="sidebar-sub-header"><a href="/blog/js/16.柯里化.html#常见用法" class="sidebar-link">常见用法</a></li></ul></li><li><a href="/blog/js/17.js代码技巧.html" class="sidebar-link">常用的js技巧</a></li><li><a href="/blog/js/18.字符串技巧.html" class="sidebar-link">字符串常用技巧</a></li><li><a href="/blog/js/2.继承.html" class="sidebar-link">继承（一）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#什么是js继承" class="sidebar-link">什么是js继承？</a></li><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#继承方式有哪些" class="sidebar-link">继承方式有哪些？</a></li><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#_1-原型链继承" class="sidebar-link">1.原型链继承</a></li><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#_1-1-原型链继承2" class="sidebar-link">1.1 原型链继承2</a></li><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#_2-构造函数继承" class="sidebar-link">2. 构造函数继承</a></li><li class="sidebar-sub-header"><a href="/blog/js/2.继承.html#_3-组合继承" class="sidebar-link">3. 组合继承</a></li></ul></li><li><a href="/blog/js/3.继承..html" class="sidebar-link">继承（二）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/3.继承..html#_4-原型式继承" class="sidebar-link">4. 原型式继承</a></li><li class="sidebar-sub-header"><a href="/blog/js/3.继承..html#_5-寄生式继承" class="sidebar-link">5. 寄生式继承</a></li></ul></li><li><a href="/blog/js/4.new的实现.html" class="sidebar-link">new关键字实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/4.new的实现.html#举个例子" class="sidebar-link">举个例子</a></li><li class="sidebar-sub-header"><a href="/blog/js/4.new的实现.html#实现方法" class="sidebar-link">实现方法</a></li><li class="sidebar-sub-header"><a href="/blog/js/4.new的实现.html#原生new带返回值" class="sidebar-link">原生new带返回值</a></li><li class="sidebar-sub-header"><a href="/blog/js/4.new的实现.html#最终优化版本" class="sidebar-link">最终优化版本</a></li></ul></li><li><a href="/blog/js/5.手写Promise.html" class="sidebar-link">mini-Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/5.手写Promise.html#原生promise使用" class="sidebar-link">原生Promise使用</a></li><li class="sidebar-sub-header"><a href="/blog/js/5.手写Promise.html#开始封装" class="sidebar-link">开始封装</a></li></ul></li><li><a href="/blog/js/6.闭包.html" class="sidebar-link">闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#上级作用域的概念" class="sidebar-link">上级作用域的概念</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#思考题" class="sidebar-link">思考题</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#js-堆栈内存释放" class="sidebar-link">JS 堆栈内存释放</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#闭包是什么" class="sidebar-link">闭包是什么</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#形成闭包的原因" class="sidebar-link">形成闭包的原因</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#闭包变量存储的位置" class="sidebar-link">闭包变量存储的位置</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#闭包的作用" class="sidebar-link">闭包的作用</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#闭包经典使用场景" class="sidebar-link">闭包经典使用场景</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#使用闭包需要注意什么" class="sidebar-link">使用闭包需要注意什么</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#怎么检查内存泄露" class="sidebar-link">怎么检查内存泄露</a></li><li class="sidebar-sub-header"><a href="/blog/js/6.闭包.html#经典面试题" class="sidebar-link">经典面试题</a></li></ul></li><li><a href="/blog/js/7.防抖节流.html" class="sidebar-link">防抖节流</a></li><li><a href="/blog/js/8.事件循环.html" class="sidebar-link">事件循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/8.事件循环.html#写这篇文章的初衷" class="sidebar-link">写这篇文章的初衷</a></li><li class="sidebar-sub-header"><a href="/blog/js/8.事件循环.html#js的事件循环是什么" class="sidebar-link">js的事件循环是什么</a></li><li class="sidebar-sub-header"><a href="/blog/js/8.事件循环.html#浏览器中的事件循环" class="sidebar-link">浏览器中的事件循环</a></li><li class="sidebar-sub-header"><a href="/blog/js/8.事件循环.html#node事件" class="sidebar-link">node事件</a></li><li class="sidebar-sub-header"><a href="/blog/js/8.事件循环.html#参考文档" class="sidebar-link">参考文档</a></li></ul></li><li><a href="/blog/js/9.自定义事件.html" class="sidebar-link">自定义事件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="symbol用法"><a href="#symbol用法" class="header-anchor">#</a> Symbol用法</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <blockquote><ol><li>前端做了这么多年，当面试官问到<code>symbol</code>这个类型可以简单说下吗？尴尬的答复到是一种新型的数据类型，主要保证数据的唯一性</li> <li>基于上面的说法太过于单薄，于是乎写这篇文章也是一个总结报告，深入学习<code>symbol</code>到底是干嘛的</li></ol></blockquote> <h2 id="symbol的由来"><a href="#symbol的由来" class="header-anchor">#</a> symbol的由来</h2> <p><code>Symbol</code> 的设计初衷是为了创建一种独一无二的标识符，以防止属性名冲突。在 <code>JavaScript</code> 中，对象的属性名是字符串，如果两个对象使用相同的字符串作为属性名，就会导致冲突。为了避免这种冲突，<code>Symbol</code> 提供了一种生成唯一标识符的机制。
通过这个由来我们带大家建立<code>Symbol</code>的第一印象，那就是<code>symbol</code>是用来解决对象属性名命名冲突的</p> <h2 id="symbol的特点"><a href="#symbol的特点" class="header-anchor">#</a> symbol的特点</h2> <p><strong>这里先说一下Symbol的特点:</strong></p> <ol><li><strong>唯一性</strong>：每个 <code>Symbol</code> 值都是唯一的，没有两个 <code>Symbol</code> 值是相等的。
<ul><li>注意<code>Symbol</code>不支持<code>new Symbol()</code>,它他并不是完整的构造函数</li> <li>每个从<code>Symbol()</code>返回的<code>symbol</code>值都是唯一的。一个<code>symbol</code>值能作为对象属性的标识符；这是该数据类型仅有的目的</li></ul></li> <li><strong>不可变性</strong>：<code>Symbol</code> 值是不可变的，一旦创建就不能修改。</li> <li><strong>私有性</strong>：<code>Symbol</code> 值在全局范围内是唯一可见的，无法通过遍历对象的方式获取到 <code>Symbol</code> 类型的属性。因为这个特点，我们还可以建立对象的私有属性，这样不能通过对象遍历出来，有助于保护对象的实现细节</li></ol> <h3 id="symbol的属性和常用方法"><a href="#symbol的属性和常用方法" class="header-anchor">#</a> symbol的属性和常用方法</h3> <p><strong>定义与使用</strong>:</p> <p>在<code>JavaScript</code>中，可以使用<code>Symbol()</code>函数来创建一个符号，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>Symbol</code>函数可以接受一个描述性字符串作为参数，用于标识符号的含义，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'my symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>需要注意的是，每个<code>Symbol()</code>函数调用都会返回一个唯一的符号，即使描述性字符串相同，它们也是不同的符号。</p> <p><code>Symbol</code>类型的值可以用作对象的属性名，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'my symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObject<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：'hello'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在上面的代码中，我们使用符号<code>mySymbol</code>作为对象<code>myObject</code>的属性名，并将其值设置为<code>'hello'</code>。使用符号作为属性名的好处是它们不会与其他属性名冲突，并且对外不可见，因此可以用于实现私有属性或方法等场景。</p> <ul><li><strong><code>Symbol.length</code></strong> <code>Symbol</code>构造函数的<code>length</code>属性值为0。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另外，<code>JavaScript</code>中的<code>Symbol</code>类型有两个特殊的方法<code>Symbol.for()</code>和<code>Symbol.keyFor()</code>，用于创建全局符号和获取已经存在的全局符号。</p> <ul><li><strong><code>Symbol.for()</code></strong>: 用于创建或获取一个全局符号，如果全局符号已经存在，则返回已经存在的符号，否则创建一个新的全局符号。例如：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mySymbol <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'my symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sameSymbol <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'my symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mySymbol <span class="token operator">===</span> sameSymbol<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>在上面的代码中，我们使用<code>Symbol.for()</code>方法来创建一个全局符号<code>'my symbol'</code>，并将其赋值给<code>mySymbol</code>变量。然后，我们再次使用<code>Symbol.for()</code>方法来获取同一个全局符号，赋值给<code>sameSymbol</code>变量。由于全局符号已经存在，因此<code>sameSymbol</code>变量的值等于<code>mySymbol</code>变量的值，输出<code>true</code>。</p></blockquote> <ul><li><strong><code>Symbol.keyFor()</code></strong> 方法会返回一个已经存在的Symbol值的key。如果给定的Symbol值不存在于全局Symbol注册表中，则返回undefined。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> symbol1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> key1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>symbol1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> symbol2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> key2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>symbol2<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>使用场景： 当我们需要获取一个全局唯一的Symbol值的key时，可以使用Symbol.keyFor()方法。但需要注意的是，只有在该Symbol值被注册到全局Symbol注册表中时，才能使用Symbol.keyFor()方法获取到其key。</p></blockquote> <ul><li><strong><code>Symbol.iterator</code></strong>
Symbol.iterator是一个预定义好的Symbol值，表示对象的默认迭代器方法。该方法返回一个迭代器对象，可以用于遍历该对象的所有可遍历属性。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Output:</span>
<span class="token comment">// 'a'</span>
<span class="token comment">// 'b'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Output:</span>
<span class="token comment">// 'a'</span>
<span class="token comment">// 'b'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Output: </span>
<span class="token comment">// No output</span>

obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> key<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Output:</span>
<span class="token comment">// 'a'</span>
<span class="token comment">// 'b'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>使用场景： 当我们需要自定义一个对象的迭代行为时，可以通过定义Symbol.iterator属性来实现。例如，对于自定义的数据结构，我们可以定义它的Symbol.iterator方法以便能够使用for...of语句进行遍历。</p></blockquote> <ul><li><strong><code>Symbol.isConcatSpreadable</code></strong> <code>Symbol.isConcatSpreadable</code>是一个预定义好的<code>Symbol</code>值，用于定义对象在使用<code>concat()</code>方法时的展开行为。如果一个对象的<code>Symbol.isConcatSpreadable</code>属性为false，则在调用<code>concat()</code>方法时，该对象不会被展开。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, { length: 2, 0: 5, 1: 6, [Symbol(Symbol.isConcatSpreadable)]: false }]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><strong><code>Symbol.toPrimitive</code></strong></li></ul> <p><code>Symbol.toPrimitive</code>是一个预定义好的Symbol值，用于定义对象在被强制类型转换时的行为。如果一个对象定义了<code>Symbol.toPrimitive</code>方法，则在将该对象转换为原始值时，会调用该方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'default'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li><strong><code>Symbol.prototype.valueOf()</code></strong> <code>Symbol.prototype.valueOf()</code>方法会返回<code>Symbol</code>值本身。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>symbol<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(foo)</span>

使用场景： <span class="token class-name">当我们需要获取一个Symbol值本身时，可以使用Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><strong><code>Symbol.replace</code></strong> <code>Symbol.replace</code>是一个预定义好的<code>Symbol</code>值，用于定义对象在调用<code>String.prototype.replace()</code>方法时的行为。如果一个对象定义了<code>Symbol.replace</code>方法，则在调用该对象的<code>replace()</code>方法时，会调用该方法进行替换。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>replace<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> replacement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> replacement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'bazbar'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'barbaz'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'barbaz'</span>

使用场景： <span class="token class-name">当我们需要自定义一个对象在调用String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法时的行为时，可以通过定义Symbol<span class="token punctuation">.</span>replace方法来实现。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong><code>Symbol.search</code></strong> <code>Symbol.searc</code>h是一个预定义好的<code>Symbol</code>值，用于定义对象在调用<code>String.prototype.search()</code>方法时的行为。如果一个对象定义了<code>Symbol.search</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'barbaz'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>

使用场景： <span class="token class-name">当我们需要自定义一个对象在调用String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法时的行为时，可以通过定义Symbol<span class="token punctuation">.</span>search方法来实现。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong><code>Symbol.split</code></strong>
Symbol.split是一个预定义好的Symbol值，用于定义对象在调用String.prototype.split()方法时的行为。如果一个对象定义了Symbol.split方法，则在调用该对象的split()方法时，会调用该方法进行分割。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>split<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo bar baz'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['foo', 'bar', 'baz']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foobarbaz'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['foobarbaz']</span>

使用场景： <span class="token class-name">当我们需要自定义一个对象在调用String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法时的行为时，可以通过定义Symbol<span class="token punctuation">.</span>split方法来实现。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong><code>Symbol.prototype.toString()</code></strong> <code>Symbol.prototype.toString()</code>方法会返回<code>Symbol</code>值的字符串表示形式，该表示形式包含<code>Symbol()</code>函数创建时指定的描述信息。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>symbol<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Symbol(foo)'</span>

使用场景： <span class="token class-name">当我们需要将一个Symbol值转换成字符串时，可以使用Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="symbol的重要属性"><a href="#symbol的重要属性" class="header-anchor">#</a> Symbol的重要属性</h3> <p><strong>1. <code>Symbol.iterator</code>: 用于指定对象的默认迭代器，例如：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> myObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：1 2 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>在上面的代码中，我们为<code>myObject</code>对象设置了<code>Symbol.iterator</code>符号，并指定了一个生成器函数作为迭代器的实现。然后，我们可以使用<code>for...of</code>循环迭代<code>myObject</code>对象，并输出其中的值。</p></blockquote> <p><strong>2. <code>Symbol.hasInstance</code>: 用于定义一个对象是否为某个构造函数的实例。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><ul><li>在上面的代码中，我们定义了一个<code>MyClass</code>类，并使用<code>Symbol.hasInstance</code>方法自定义了<code>instanceof</code>运算符的行为，使其检查对象是否为数组。当检查[]对象时，<code>instanceof</code>运算符返回<code>true</code>，因为[]是<code>Array</code>的实例；当检查<code>{}</code>对象时，<code>instanceof</code>运算符返回<code>false</code>，因为{}不是<code>Array</code>的实例。</li> <li>需要注意的是，<code>Symbol.hasInstance</code>方法是一个静态方法，需要定义在构造函数的静态属性中。另外，<code>Symbol.hasInstance</code>方法不能被继承，因此子类需要重新定义该方法。</li></ul></blockquote> <p><strong>3. <code>Symbol.toStringTag</code>: 用于自定义对象的默认字符串描述。</strong></p> <p>当调用<code>Object.prototype.toString()</code>方法时，会使用该对象的<code>Symbol.toStringTag</code>属性作为默认的字符串描述，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'MyObject'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：'[object MyObject]'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><ul><li>在上面的代码中，我们定义了一个<code>MyObject</code>类，并使用<code>Symbol.toStringTag</code>属性自定义了该类的默认字符串描述。然后，我们创建了一个<code>obj</code>对象，并使用<code>Object.prototype.toString()</code>方法获取其字符串描述，输出<code>'[object MyObject]'</code>。</li> <li>需要注意的是，<code>Symbol.toStringTag</code>属性只有在调用<code>Object.prototype.toString()</code>方法时才会生效，对其他方法没有影响。另外，如果没有定义<code>Symbol.toStringTag</code>属性，则默认使用构造函数的名称作为字符串描述。</li></ul></blockquote> <p><strong>4. <code>Symbol.asyncIterator</code>: 用于指定对象的默认异步迭代器。</strong></p> <p>当使用<code>for await...of</code>循环迭代一个对象时，会调用该对象的<code>Symbol.asyncIterator</code>方法获取异步迭代器。</p> <p><code>Symbol.asyncIterator</code>方法需要返回一个异步迭代器对象，该对象实现了<code>next()</code>方法，并返回一个<code>Promise</code>对象。当迭代器迭代到结束时，<code>next()</code>方法应该返回一个<code>Promise</code>对象，该<code>Promise</code>对象的<code>value</code>属性为<code>undefined</code>，<code>done</code>属性为<code>true</code>。</p> <p>例如，下面的代码演示了如何使用Symbol.asyncIterator属性定义一个异步迭代器：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  async <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>asyncIterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> myObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：1 2 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><ul><li>在上面的代码中，我们为<code>myObject</code>对象设置了<code>Symbol.asyncIterator</code>符号，并指定了一个异步生成器函数作为异步迭代器的实现。然后，我们使用<code>for await...of</code>循环迭代<code>myObject</code>对象，并输出其中的值。</li> <li>需要注意的是，使用<code>Symbol.asyncIterator</code>属性定义的异步迭代器只能使用<code>for await...of</code>循环进行迭代，不能使用普通的<code>for...of</code>循环。此外，<code>Symbol.asyncIterator</code>属性只有在支持异步迭代器的环境中才能使用，例如<code>Node.js</code>的版本必须在<code>10.0.0</code>以上才支持异步迭代器。</li></ul></blockquote> <h2 id="symbol的应用场景"><a href="#symbol的应用场景" class="header-anchor">#</a> symbol的应用场景</h2> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <ul><li><strong>解决属性名称冲突:</strong></li></ul> <p>当你在开发一个库或框架时，为了避免属性名冲突，可以使用 Symbol 作为对象的属性名。这样可以确保属性名的唯一性，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">PRIVATE_KEY</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'private'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">PRIVATE_KEY</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'private value'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token constant">PRIVATE_KEY</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 访问私有属性</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><strong>创建私有方法和属性：</strong></li></ul> <p>Symbol 可以用于创建类中的私有方法和属性，以实现封装和隐藏内部实现细节，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">PRIVATE_METHOD</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'privateMethod'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token constant">PRIVATE_METHOD</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 私有方法实现</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">publicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 公共方法调用私有方法</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token constant">PRIVATE_METHOD</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>外面是访问不到<code>PRIVATE_METHOD</code>属性的，只能通过<code>publicMethod</code>方法才能访问到</p> <ul><li><strong>定义常量：</strong> 可能有这样的场景，我们开发的大型项目里面有很多常量，但是有可能常量名会冲突，这时候也可以使用<code>Symbol</code>来解决此类问题</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">STATUS_SUCCESS</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">STATUS_ERROR</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleResponse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token constant">STATUS_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理成功情况</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token constant">STATUS_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理错误情况</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong>自定义迭代器</strong></li></ul> <h2 id="实现symbol"><a href="#实现symbol" class="header-anchor">#</a> 实现symbol</h2> <p>有的人觉得，为什么要实现<code>symbol</code>, 有什么好处？</p> <p>这个主要是锻炼我们实现功能的能力，要知道我们的<code>js</code>无所不能的，只有多锻炼，才能早点达到无所不能的能力</p> <p>因为使用原生js并不能完全实现<code>Symbol</code>，所以我们主要实现了一下功能</p> <ol><li><code>symbol</code>不能使用new命令</li> <li><code>instanceof</code>的结果为<code>false</code></li> <li><code>symbol</code>接受一个字符串作为参数</li> <li><code>symbol</code>值是唯一的，因为两个对象值不一样</li> <li>调用<code>toString</code>方法，输出的值也是唯一的</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> generateName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> postfix <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">descString</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      postfix<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">'@@'</span> <span class="token operator">+</span> descString <span class="token operator">+</span> <span class="token string">'_'</span> <span class="token operator">+</span> postfix<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">var</span> <span class="token function-variable function">SymbolPolyfill</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token parameter">description</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">SymbolPolyfill</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Symbol is not a constructor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> descString <span class="token operator">=</span> description <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> <span class="token function">String</span><span class="token punctuation">(</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> symbol <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__Name__<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>symbol<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'__Description__'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> descString<span class="token punctuation">,</span>
        <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">enumrable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">'__Name__'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token function">generateName</span><span class="token punctuation">(</span>descString<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> symbol<span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>

  root<span class="token punctuation">.</span>SymbolPolyfill <span class="token operator">=</span> SymbolPolyfill<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>然后我们测试一下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">SymbolPolyfill</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">SymbolPolyfill</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">===</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
o<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
o<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object { &quot;@@foo_1&quot;: &quot;hello&quot;, &quot;@@foo_2&quot;: &quot;hi&quot; }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>上面学习完了<code>symbol</code>，接下来我们吐槽一下，难道大家没有感觉<code>Symbol</code>很鸡肋么?</p> <ol><li>可读性差：由于 <code>Symbol</code> 是一种唯一且不可变的值，它的值在代码中不易理解和追踪。相比起字符串或其他基本类型的属性名，Symbol 的用途和含义可能更加隐晦。</li> <li>难以扩展：<code>Symbol</code> 的唯一性可能导致扩展困难。如果库或框架使用 <code>Symbol</code> 定义了一些内部属性或方法，但用户想要在其上进行自定义扩展时，可能会受限于无法直接访问和修改 <code>Symbol</code> 属性。</li> <li>兼容性问题：旧版的 <code>JavaScript</code> 引擎可能不支持 <code>Symbol</code> 或只支持部分功能，这可能导致在一些特定环境中使用 <code>Symbol</code> 的代码无法正常运行。</li> <li>额外的复杂性：引入 <code>Symbol</code> 可能会增加代码的复杂性。使用 <code>Symbol</code> 的场景通常是在一些高级、复杂的应用中，对于一般的开发需求来说，它可能会增加学习成本和开发复杂性，而并非每个项目都需要使用 <code>Symbol</code>。</li></ol> <p>尽管 <code>Symbol</code> 有一些限制和问题，但它仍然具有一些有价值的应用场景，特别是在构建库、框架或需要确保属性名唯一性和隐藏性的高级应用中。它可以提供一种确保标识符的独特性和不可变性的机制。因此，对于特定的用途和需求，<code>Symbol</code> 仍然是一个有用的功能。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p><a href="https://juejin.cn/post/7239715208792457272" target="_blank" rel="noopener noreferrer">一文理解Symbol应用场景---近万字总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">6/24/2023, 7:42:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/js/14.手写Map.html" class="prev">
        mini Map
      </a></span> <span class="next"><a href="/blog/js/16.柯里化.html">
        柯里化
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.afb352e3.js" defer></script><script src="/blog/assets/js/2.39afa3e7.js" defer></script><script src="/blog/assets/js/31.edec5f27.js" defer></script>
  </body>
</html>
